<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vertical Circles - Bootstrap</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

</head>

<body >


  <!-- Nav bar -->
  <nav class="navbar fixed-top" style="height: 53px; padding: 0;">
    <div class="container d-flex justify-content-between align-items-center">
      <a class="navbar-brand d-flex align-items-center" style="padding: 0;" routerLink="/">
        <img
          src="https://media.istockphoto.com/id/1642381175/vector/cinema.jpg?s=612x612&w=0&k=20&c=owIct55daWlWRwPbTYLI9Y1IsrgYiqJcpvvgycvxBhE="
          alt="Logo" class="logo me-2" />
        <span class="brand-text">
          FaragnyMaak
        </span>
      </a>

      <!-- Auth buttons -->
      <div class="auth-buttons" style="height: 33px; margin:5px;">
        <!-- Show these buttons when user is not authenticated -->
        <ng-container *ngIf="!authService.isAuthenticated()">
          <a routerLink="/login" class="auth-btn login-btn" style="height: 33px;">
            <i class="bi bi-box-arrow-in-right me-1"></i>Login
          </a>
          <a routerLink="/register" class="auth-btn register-btn" style="height: 33px;">
            <i class="bi bi-person-plus me-1"></i>Register
          </a>
        </ng-container>

        <!-- Show logout button when user is authenticated -->
        <button style="height: 33px;" *ngIf="authService.isAuthenticated()" class="auth-btn logout-btn" (click)="logout()">
          <i class="bi bi-box-arrow-right me-1"></i>Logout
        </button>
      </div>
    </div>
  </nav>

  <div class="vertical-nav d-flex flex-column">
    <a routerLink="/" routerLinkActive="active" class="icon-container position-relative d-block"
      [routerLinkActiveOptions]="{ exact: true }">
      <span class="circle-icon d-flex align-items-center justify-content-center">
        <i class="bi bi-house-fill"></i>
      </span>
      <span class="icon-label text-white">Home</span>
    </a>

    <!-- Profile link - only show when authenticated -->
    <!-- <a *ngIf="authService.isAuthenticated()" routerLink="/profile" routerLinkActive="active" class="icon-container position-relative d-block">
      <span class="circle-icon d-flex align-items-center justify-content-center">
        <i class="bi bi-person-fill"></i>
      </span>
      <span class="icon-label text-white">Profile</span>
    </a> -->
    <!-- Admin Dashboard link -->
<a *ngIf="userEmail === 'admin@faragnymaak.com'" routerLink="/admin" routerLinkActive="active" class="icon-container position-relative d-block">
  <span class="circle-icon d-flex align-items-center justify-content-center">
    <i class="bi bi-speedometer2"></i>
  </span>
  <span class="icon-label text-white">Dashboard</span>
</a>

<!-- Regular Profile link -->
<a *ngIf="userEmail !== 'admin@faragnymaak.com'" routerLink="/profile" routerLinkActive="active" class="icon-container position-relative d-block">
  <span class="circle-icon d-flex align-items-center justify-content-center">
    <i class="bi bi-person-fill"></i>
  </span>
  <span class="icon-label text-white">Profile</span>
</a>


    <!-- Login/Register links - only show when not authenticated -->
    <a *ngIf="!authService.isAuthenticated()" routerLink="/login" routerLinkActive="active" class="icon-container position-relative d-block">
      <span class="circle-icon d-flex align-items-center justify-content-center">
        <i class="bi bi-box-arrow-in-right"></i>
      </span>
      <span class="icon-label text-white">Login</span>
    </a>

    <a routerLink="/movie" routerLinkActive="active" class="icon-container position-relative d-block">
      <span class="circle-icon d-flex align-items-center justify-content-center">
        <i class="bi bi-film"></i>
      </span>
      <span class="icon-label text-white">Movies</span>
    </a>

    <a routerLink="/series" routerLinkActive="active" class="icon-container position-relative d-block">
      <span class="circle-icon d-flex align-items-center justify-content-center">
        <i class="bi bi-tv"></i>
      </span>
      <span class="icon-label text-white">Series</span>
    </a>

    <!-- Search component -->
    <div #searchContainer id="search-container" class="icon-container position-relative d-block">
      <span class="circle-icon d-flex align-items-center justify-content-center" (click)="toggleSearch($event)">
        <i class="bi bi-search"></i>
      </span>
      <div class="inline-search">
        <input #searchInput type="text" class="search-input" placeholder="Search..." (keydown.enter)="handleSearch()" (keydown.escape)="closeSearch()">
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Custom JS -->
  <script src="script.js"></script>

</body>
